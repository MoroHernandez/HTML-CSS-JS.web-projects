const miModulo=(()=>{"use strict";let e=[],t=[],r=["C","D","H","S"],l=["A","J","Q","K"],a=document.querySelectorAll(".divCartas"),n=document.querySelectorAll("small"),o=document.querySelector("#btnDetener"),s=document.querySelector("#btnPedir"),d=document.querySelector("#btnNuevo"),i=(r=2)=>{e=c(),t=[];for(let l=0;l<r;l++)t.push(0);n.forEach(e=>e.innerText=0),a.forEach(e=>e.innerHTML=""),s.disabled=!1,o.disabled=!1},c=()=>{e=[];for(let t=2;t<=10;t++)for(let a of r)e.push(t+a);for(let n of r)for(let o of l)e.push(o+n);return e.sort(()=>Math.random()-.5)},$=()=>(0===e.length&&alert("Start a new game please"),e.pop()),u=e=>{let t=e.substring(0,e.length-1);return isNaN(t)?"A"===t?11:10:1*t},_=(e,r)=>(t[r]=t[r]+u(e),n[r].innerText=t[r],t[r]),b=(e,t)=>{let r=document.createElement("img");r.src=`./assets/cards/${e}.png`,r.alt="carta blackjack",r.classList="carta",a[t].append(r)},h=()=>{let[e,r]=t;setTimeout(()=>{r===e?alert("Draw!"):e>21?alert("The Computer won!"):r>21?alert("The Player won!"):alert("The Computer won!")},1e3)},p=e=>{let r=0;do{let l=$();r=_(l,t.length-1),b(l,t.length-1)}while(r<e&&e<=21);h()};return s.addEventListener("click",()=>{let e=$(),t=_(e,0);b(e,0),t>21?(console.warn("You Lose!"),s.disabled=!0,o.disabled=!0,p(t)):21===t&&(console.warn("21, Great!"),s.disabled=!0,o.disabled=!0,p(t))}),o.addEventListener("click",()=>{s.disabled=!0,o.disabled=!0,p(t[0])}),d.addEventListener("click",()=>{i()}),{nuevoJuego:i}})();